<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
	<script>
		checkWebservice();
		function checkWebservice() {
			var request = new XMLHttpRequest();
			request.open("GET","./rest/apps");
			request.setRequestHeader("cache-control", "no-cache, must-revalidate, post-check=0, pre-check=0");
			request.setRequestHeader("cache-control", "max-age=0");
			request.setRequestHeader("expires", "0");
			request.setRequestHeader("expires", "Tue, 01 Jan 1980 1:00:00 GMT");
			request.setRequestHeader("pragma", "no-cache");
			request.addEventListener("load", function(event) {
				if (request.status >= 200 && request.status < 300) {
					var url = window.location.href;
					if (url.indexOf("?") == -1) {
						url += "?_=";
					} else {
						url += "&_=";
					}
					window.location.replace(url + new Date().getTime());
				}
			});
			request.send();
			setTimeout(checkWebservice, 3000);
		}
	</script>
	<style type="text/css">
		.message {
			margin-top: 10em;
		}
		.warning-icon {
			background-image: url(warning.png);
			width: 154px;
			height: 134px;
			margin: 0 auto;
		}
		.warning-text {
			text-align: center;
			font-family: sans-serif;
			font-size: 1.5em;
		}
	</style>
</head>
<body>
<div class="message">
	<div class="warning-icon"></div>
	<div class="warning-text">
		<p>Firmware update in progress...</p>
		<p>Do not turn off the device or disconnect any cables,<br>otherwise the device may be destroyed.</p>
	</div>
</div>
</body>
</html>